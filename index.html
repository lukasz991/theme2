<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>DEMON ‚Äì Final Abyss Edition (Cosmos Pure)</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet" />

<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --accent: #d7d9dc;
  --accent-soft: #9ea2a7;
  --glow: #a9d1ff;
  --text-main: #e3e5e8;
  --text-muted: #8c9fb3;
  --bone: #f4f8ff;
}

html, body {
  width: 100%; height: 100%;
  overflow: hidden;
  background: #000;
  color: var(--text-main);
  font-family: "Roboto Condensed", sans-serif;
  letter-spacing: 0.04em;
}

/* === üî≠ T≈ÅO === */
.space-bg {
  position: fixed;
  inset: 0;
  width: 100%; height: 100%;
  background: 
    radial-gradient(ellipse at center, rgba(40,60,100,0.25) 0%, rgba(0,0,20,0.9) 90%),
    url("https://xatimg.com/image/7eFv2Gbo0ck7.gif") center/cover no-repeat;
  filter: brightness(0.6) contrast(1.25) saturate(1.3);
  z-index: 0;
  transition: transform 0.6s ease-out;
}

/* === ‚ú® KANWA 3D === */
#bg3d {
  position: fixed;
  inset: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 1;
}

/* === üåë WINIETA === */
.vignette {
  position: fixed;
  inset: 0;
  z-index: 2;
  background: radial-gradient(ellipse at center, rgba(0,0,20,0.05), rgba(0,0,0,0.9) 90%);
  pointer-events: none;
}

/* === üíÄ G≈Å√ìWNA ZAWARTO≈öƒÜ === */
.root {
  position: relative;
  z-index: 3;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}
.content {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 18px;
  max-width: 760px;
  padding: 20px;
}

/* === NICK === */
.nick-main {
  font-family: "Cinzel", serif;
  font-size: 3.6rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  position: relative;
  color: #b6d6ff;
  text-shadow:
    0 0 10px rgba(120,180,255,0.6),
    0 0 25px rgba(100,160,255,0.5),
    0 0 45px rgba(80,140,255,0.35);
  animation: lightningFlash 5s ease-in-out infinite;
}

/* üî• B≈Çyski w literach */
.nick-main::after {
  content: "DEMON";
  position: absolute;
  top: 0; left: 0; right: 0;
  text-align: center;
  color: rgba(255,255,255,0.9);
  text-shadow:
    0 0 12px rgba(180,230,255,0.9),
    0 0 30px rgba(200,240,255,0.8);
  opacity: 0;
  animation: electricSparks 8s infinite;
  pointer-events: none;
}

/* === OPIS === */
.bio-block {
  max-width: 680px;
  padding: 12px 20px;
  background: radial-gradient(circle at center, rgba(100,170,255,0.05), rgba(0,0,0,0));
  border-radius: 14px;
  box-shadow: 0 0 40px rgba(120,170,255,0.08);
}
.section-label {
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.22em;
  color: var(--text-muted);
  margin-bottom: 6px;
}
.bio-text {
  font-size: 0.96rem;
  line-height: 1.6;
  color: var(--text-main);
  text-shadow: 0 0 8px rgba(80,120,160,0.15);
}
.bio-text {
  animation: darkPulse 6s ease-in-out infinite alternate;
}

@keyframes darkPulse {
  0% { text-shadow: 0 0 6px rgba(80,120,160,0.15); }
  100% { text-shadow: 0 0 18px rgba(120,180,255,0.35); }
}  
.bio-text strong { color: var(--bone); }
.bio-text span.accent { color: var(--glow); }

/* === PLAYER === */
.music-block {
  position: absolute;
  bottom: 40px; /* odleg≈Ço≈õƒá od do≈Çu ekranu */
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.music-btn {
  width: 48px; height: 48px;
  border-radius: 50%;
  border: 1px solid var(--accent-soft);
  background: linear-gradient(135deg, rgba(40,40,40,1), rgba(15,15,15,1));
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  box-shadow: 0 0 8px rgba(255,255,255,0.05);
  transition: transform 0.15s, box-shadow 0.3s;
}
.music-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 16px rgba(160,200,255,0.3);
}

.music-btn-icon {
  width: 18px; height: 18px; position: relative;
}
.music-btn-icon.play::before {
  content: "";
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-40%, -50%);
  border-style: solid;
  border-width: 7px 0 7px 11px;
  border-color: transparent transparent transparent var(--bone);
}
.music-btn-icon.pause::before,
.music-btn-icon.pause::after {
  content: "";
  position: absolute;
  top: 50%; transform: translateY(-50%);
  width: 3px; height: 14px;
  background: var(--bone);
}
.music-btn-icon.pause::before { left: 4px; }
.music-btn-icon.pause::after { right: 4px; }

.music-title { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.18em; color: var(--accent); }
.music-sub { font-size: 0.78rem; color: var(--text-muted); }
.music-bar { margin-top: 4px; width: 100%; height: 5px; border-radius: 999px; background: rgba(0,0,0,0.5); overflow: hidden; position: relative; }
.music-bar-fill { position: absolute; inset: 0; transform-origin: left center; transform: scaleX(0); background: linear-gradient(90deg, var(--accent-soft), var(--glow)); }
.music-row {
  display: flex;
  align-items: center;
  justify-content: center; /* wyr√≥wnanie playera na ≈õrodku */
  gap: 12px; /* odstƒôp miƒôdzy przyciskiem a opisem */
  text-align: left;
}

.music-meta {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
/* === ANIMACJE === */
@keyframes lightningFlash {
  0%, 100% { filter: brightness(1); }
  8%, 11%, 14% { filter: brightness(2.8); }
  50% { filter: brightness(1.2); }
  70% { filter: brightness(1.6); }
}
@keyframes electricSparks {
  0%, 70%, 100% { opacity: 0; }
  5%, 6% { opacity: 1; filter: brightness(3); }
  20%, 21% { opacity: 0.8; filter: brightness(2.5); }
  45%, 46% { opacity: 1; filter: brightness(3.2); }
  60% { opacity: 0.4; }
}
/* --- Animacja zmiany tytu≈Çu muzyki --- */
@keyframes titleFade {
  0% { opacity: 1; transform: scale(1) translateY(0); filter: brightness(1); }
  40% { opacity: 0; transform: scale(0.9) translateY(-4px); filter: brightness(1.6); }
  60% { opacity: 0; transform: scale(1.1) translateY(4px); }
  100% { opacity: 1; transform: scale(1) translateY(0); filter: brightness(1.2); }
}

.music-title.transition {
  animation: titleFade 1s ease-in-out;
  color: var(--glow);
  text-shadow: 0 0 10px rgba(120,180,255,0.8), 0 0 30px rgba(80,130,255,0.6);
}  
</style>
</head>
<body>
  <div class="space-bg"></div>
  <canvas id="bg3d"></canvas>
  <div class="vignette"></div>

  <div class="root">
    <div class="content">
      <div class="nick-main">DEMON</div>

      <div class="bio-block">
  <div class="section-label">Opis</div>
  <p class="bio-text">
    W moich ≈ºy≈Çach p≈Çynie mrok, a moje serce bije w rytm piekielnego ta≈Ñca.
    Moje s≈Çowa sƒÖ niczym ostrza. PrzyciƒÖgam i odpycham, intrygujƒô i przera≈ºam.
    Jestem zagadkƒÖ, kt√≥rƒÖ trudno rozwik≈Çaƒá.
  </p>
</div>

      <div class="music-block">
  <div class="section-label">Motyw muzyczny</div>
  <div class="music-row">
    <button class="music-btn" id="musicToggle">
      <div class="music-btn-icon play" id="musicIcon"></div>
    </button>
    <div class="music-meta">
      <div class="music-title">Czy Mnie Lubisz ‚Äì by Kud≈Çaty</div>
      <div class="music-sub">autor: TKM ‚Ä¢ dark ambient</div>
    </div>
  </div>
  <div class="music-bar">
    <div class="music-bar-fill" id="musicProgress"></div>
  </div>
</div>

  <audio id="themeAudio" src=""></audio>

  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
<script>
// ================== T≈ÅO 3D ==================
const canvas = document.getElementById("bg3d");
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 0.1, 200);
camera.position.z = 12;

const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(devicePixelRatio);

// --- ≈öwiat≈Ço ---
const ambient = new THREE.AmbientLight(0x6677aa, 0.4);
scene.add(ambient);

// --- Tekstura punktowa ---
const texCanvas = document.createElement("canvas");
texCanvas.width = texCanvas.height = 128;
const ctx = texCanvas.getContext("2d");
const grad = ctx.createRadialGradient(64,64,0,64,64,64);
grad.addColorStop(0,"rgba(255,255,255,1)");
grad.addColorStop(0.25,"rgba(255,255,255,0.6)");
grad.addColorStop(1,"rgba(255,255,255,0)");
ctx.fillStyle = grad;
ctx.fillRect(0,0,128,128);
const glowTexture = new THREE.CanvasTexture(texCanvas);

// --- Gwiazdy ---
const starGeo = new THREE.BufferGeometry();
const starCount = 4000;
const starPos = new Float32Array(starCount * 3);
for (let i = 0; i < starCount * 3; i++) starPos[i] = (Math.random() - 0.5) * 300;
starGeo.setAttribute("position", new THREE.BufferAttribute(starPos, 3));
const starMat = new THREE.PointsMaterial({
  map: glowTexture, color: 0xffffff, size: 0.05,
  transparent: true, opacity: 0.85,
  blending: THREE.AdditiveBlending, depthWrite: false
});
const stars = new THREE.Points(starGeo, starMat);
scene.add(stars);

// --- Mg≈Çawica ---
const nebulaGeo = new THREE.BufferGeometry();
const nebulaCount = 1200;
const nebulaPos = new Float32Array(nebulaCount * 3);
for (let i = 0; i < nebulaCount * 3; i++) nebulaPos[i] = (Math.random() - 0.5) * 150;
nebulaGeo.setAttribute("position", new THREE.BufferAttribute(nebulaPos, 3));
const nebulaMat = new THREE.PointsMaterial({
  map: glowTexture, color: 0x3a7aff, size: 0.4,
  transparent: true, opacity: 0.08,
  blending: THREE.AdditiveBlending, depthWrite: false
});
const nebula = new THREE.Points(nebulaGeo, nebulaMat);
scene.add(nebula);

// --- Losowe b≈Çyski ---
const flashes = [];
function createFlash() {
  const geo = new THREE.SphereGeometry(0.5 + Math.random(), 16, 16);
  const mat = new THREE.MeshBasicMaterial({
    color: 0x4fa9ff, transparent: true, opacity: 0.6,
    blending: THREE.AdditiveBlending
  });
  const flash = new THREE.Mesh(geo, mat);
  flash.position.set((Math.random()-0.5)*80, (Math.random()-0.5)*60, -20 - Math.random()*30);
  scene.add(flash);
  flashes.push({ mesh: flash, life: 1 });
}

let t = 0;
function animate() {
  requestAnimationFrame(animate);
  t += 0.002;
  stars.rotation.y += 0.0002;
  nebula.rotation.y -= 0.0001;
  nebulaMat.opacity = 0.07 + Math.sin(t * 2.5) * 0.015;

  if (Math.random() < 0.005) createFlash();

  for (let i = flashes.length - 1; i >= 0; i--) {
    const f = flashes[i];
    f.life -= 0.02;
    f.mesh.material.opacity = f.life * 0.5;
    f.mesh.scale.setScalar(1 + (1 - f.life) * 2);
    if (f.life <= 0) {
      scene.remove(f.mesh);
      flashes.splice(i, 1);
    }
  }
  renderer.render(scene, camera);
}
animate();

// --- Paralaksa t≈Ça ---
const bg = document.querySelector(".space-bg");
document.addEventListener("mousemove", (e) => {
  const x = (e.clientX / window.innerWidth - 0.5) * 10;
  const y = (e.clientY / window.innerHeight - 0.5) * 10;
  bg.style.transform = `translate(${x}px, ${y}px) scale(1.02)`;
});

window.onresize = () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
};

// ================== PLAYER + PLAYLISTA ==================
const audio = document.getElementById("themeAudio");
const btn = document.getElementById("musicToggle");
const icon = document.getElementById("musicIcon");
const bar = document.getElementById("musicProgress");

// --- PLAYLISTA --- üéµ
const playlist = [
  "czy-mnie-lubisz.mp3",
  "tkm-stan.mp3"
];
const trackTitles = [
  "Czy Mnie Lubisz ‚Äì by Kud≈Çaty",
  "STAN ‚Äì TKM ft Dawid Naro≈ºny"
];

let currentTrack = 0;
audio.src = playlist[currentTrack];

// Klik play/pause
btn.addEventListener("click", () => {
  if (audio.paused) {
    audio.play();
    icon.classList.remove("play");
    icon.classList.add("pause");
  } else {
    audio.pause();
    icon.classList.remove("pause");
    icon.classList.add("play");
  }
});

// Pasek postƒôpu
audio.addEventListener("timeupdate", () => {
  if (!audio.duration) return;
  const progress = audio.currentTime / audio.duration;
  bar.style.transform = `scaleX(${progress})`;
});

// Zmiana tytu≈Çu + automatyczne prze≈ÇƒÖczanie
const musicTitleEl = document.querySelector(".music-title");

audio.addEventListener("ended", () => {
  currentTrack = (currentTrack + 1) % playlist.length;
  audio.pause();
  audio.src = playlist[currentTrack];

  // animacja tytu≈Çu
  musicTitleEl.classList.add("transition");
  setTimeout(() => {
    musicTitleEl.textContent = trackTitles[currentTrack];
    audio.load();
    setTimeout(() => audio.play(), 300);
  }, 400);
  setTimeout(() => {
    musicTitleEl.classList.remove("transition");
  }, 1000);
});
</script>
</body>
</html>
